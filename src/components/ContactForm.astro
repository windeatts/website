---
interface Props {
  compact?: boolean;
}

const { compact = false } = Astro.props;
---

<form
  action="https://formspree.io/f/YOUR_FORM_ID"
  method="POST"
  class:list={['space-y-4', compact ? 'max-w-md' : 'max-w-2xl']}
>
  <div class:list={[compact ? 'space-y-4' : 'grid grid-cols-1 sm:grid-cols-2 gap-4']}>
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name *</label>
      <input
        type="text"
        id="name"
        name="name"
        required
        class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gold focus:border-gold transition-colors"
      />
    </div>
    <div>
      <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
      <input
        type="email"
        id="email"
        name="email"
        required
        class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gold focus:border-gold transition-colors"
      />
    </div>
  </div>

  <div>
    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gold focus:border-gold transition-colors"
    />
  </div>

  {!compact && (
    <div>
      <label for="service" class="block text-sm font-medium text-gray-700 mb-1">How can we help?</label>
      <select
        id="service"
        name="service"
        class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gold focus:border-gold transition-colors bg-white"
      >
        <option value="">Please select...</option>
        <optgroup label="Services for You">
          <option>Buying or Selling a Property</option>
          <option>Co-owning Property</option>
          <option>Remortgage & Equity Release</option>
          <option>Probate & Estate Administration</option>
          <option>Planning for the Future (Wills, LPAs)</option>
          <option>Trust Funds & Inheritance Tax</option>
          <option>Services for the Older Client</option>
          <option>Family Law</option>
          <option>Personal Injury & Clinical Negligence</option>
        </optgroup>
        <optgroup label="Services for Business">
          <option>Commercial Property</option>
          <option>Buying or Selling a Business</option>
          <option>Employment Law</option>
          <option>Contract & Commercial Litigation</option>
          <option>Residential Tenancy Agreements</option>
          <option>Property Disputes</option>
        </optgroup>
        <option value="other">Other</option>
      </select>
    </div>
  )}

  <div>
    <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message *</label>
    <textarea
      id="message"
      name="message"
      required
      rows={compact ? 3 : 5}
      class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gold focus:border-gold transition-colors resize-y"
    ></textarea>
  </div>

  <button
    type="submit"
    class="bg-gold hover:bg-gold-dark text-navy font-semibold px-6 py-3 rounded-lg transition-colors text-sm"
  >
    Send Enquiry
  </button>

  <p class="text-xs text-gray-500">
    By submitting this form, you agree to our <a href="/privacy-policy" class="underline hover:text-navy">privacy policy</a>.
    We will use your information to respond to your enquiry.
  </p>
</form>
