---
import { getCollection } from 'astro:content';
import PageLayout from '../layouts/PageLayout.astro';
import ServiceCard from '../components/ServiceCard.astro';

const allServices = await getCollection('services');
const businessServices = allServices
  .filter((service) => service.data.category === 'business')
  .sort((a, b) => a.data.order - b.data.order);
---

<PageLayout
  title="Services for Business"
  description="Commercial legal services from Windeatts Solicitors. Expert advice on commercial property, business sales, employment law and litigation from our offices in Kingsbridge and Totnes."
  subtitle="Commercial legal support for businesses of all sizes, from start-ups to established enterprises."
  breadcrumbs={[{ label: 'Services for Business' }]}
>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    {businessServices.map((service) => (
      <ServiceCard
        title={service.data.title}
        summary={service.data.summary}
        href={`/services/${service.id}`}
        icon={service.data.icon}
      />
    ))}
  </div>

  <!-- CTA -->
  <div class="mt-16 bg-cream rounded-xl p-8 lg:p-12 text-center">
    <h2 class="font-(family-name:--font-heading) text-2xl font-bold text-navy">
      Need legal advice for your business?
    </h2>
    <p class="mt-3 text-gray-600 max-w-2xl mx-auto">
      Whether you are buying commercial premises, resolving a dispute, or need guidance on employment matters, our experienced team is here to help your business succeed.
    </p>
    <div class="mt-6 flex flex-col sm:flex-row gap-4 justify-center">
      <a
        href="/contact"
        class="bg-gold hover:bg-gold-dark text-navy font-semibold px-6 py-3 rounded-lg transition-colors"
      >
        Get in touch
      </a>
      <a
        href="tel:01548852727"
        class="border border-navy/20 hover:border-navy text-navy font-semibold px-6 py-3 rounded-lg transition-colors"
      >
        Call 01548 852727
      </a>
    </div>
  </div>
</PageLayout>
